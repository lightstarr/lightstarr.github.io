<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">

<head>
  <!-- Metadata -->
  <meta charset="utf-8" />
  <meta name="author" content="Chandra" />
  <meta name="description" content="Password protect links using AES in the browser." />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />

  <link rel="shortcut icon" type="image/x-icon" href="../favicon.ico">

  <title>Link Lock - Password-protect links</title>

  <!-- Styles -->
  <link rel="stylesheet" href="../style.css" type="text/css" />

  <!-- Scripts -->
  <script type="text/javascript" src="../b64.js"></script>
  <script type="text/javascript" src="../api.js"></script>
  <script type="text/javascript">
    function error(text) {
      document.querySelector(".error").style.display = "inherit";
      document.querySelector("#errortext").innerText = `Error: ${text}`;
    }


    // Run when the <body> loads
    function main() {
      // Fail if the b64 library or API was not loaded
      if (!("b64" in window)) {
        error("Base64 library not loaded.");
        return;
      }
      if (!("apiVersions" in window)) {
        error("API library not loaded.");
        return;
      }
    }
  </script>
  <script type="text/javascript" src="create.js"></script>
</head>

<body onload="main()">
  <!-- View on GitHub ribbon 
  <a href="https://github.com/jstrieb/link-lock" target="_blank">
    <img class="ribbon" src="../corner-ribbon-minified.svg" alt="View on GitHub" />
  </a>-->

  <!-- Explanation for those who do not have JavaScript enabled -->
  <noscript>
  <div style="border: 3px solid red; padding: 2em;">
    <p>Jika Anda melihat ini, berarti JavaScript Anda dinonaktifkan. Akibatnya, aplikasi tidak akan berfungsi dengan baik untuk Anda. Misalnya, tidak ada tombol yang berfungsi.</p>

     <p>Aplikasi ini sepenuhnya diprogram dalam JavaScript. Ini dilakukan dengan sengaja, agar semua enkripsi dan dekripsi terjadi di sisi klien. Ini berarti kode berjalan sebagai aplikasi terdistribusi, hanya mengandalkan Halaman GitHub untuk infrastruktur. Ini juga berarti bahwa tidak ada data tentang tautan terkunci yang pernah disimpan di server. Kode dirancang agar dapat diaudit sehingga pengguna dapat menyelidiki apa yang terjadi di balik layar.</p>

     <p>Jika Anda masih ingin menjalankan aplikasi, saya anjurkan Anda mengkloning <a href="https://github.com/jstrieb/link-lock">kode sumber di GitHub</a>. Dengan demikian, Anda dapat menonaktifkan JavaScript hanya untuk file tepercaya di mesin lokal Anda.</p>
   </div>
  </noscript>

  <!-- Display errors in a big red box -->
  <div class="error red-border" style="display: none">
    <p id="errortext">Error</p>
    <button onclick="main()">Coba Lagi Bro</button>
  </div>

  <!-- Project description -->
  <h1>Link Lock</h1>
  <div>
    
  </div>

  <hr />

  <!-- Main form -->
  <div class="form">
    <div class="labeled-input">
      <label for="url">Link Rahasia</label>
      <input type="url" id="url" placeholder="https://" oninvalid="if (!this.validity.customError) this.setCustomValidity('Please enter a valid URL. Make sure to include \'http://\' or \'https://\' at the beginning.')" oninput="this.setCustomValidity('')" required />
    </div>
    <div class="labeled-input hint">
      <label for="url">petuntunjuk Password (Tidak Wajib)</label>
      <textarea id="hint" rows="1"></textarea>
    </div>
    <div class="split-row">
      <div class="labeled-input password">
        <label for="password">Password</label>
        <input type="password" id="password" />
      </div>
      <div class="labeled-input confirm-password">
        <label for="confirm-password">Konfirmasi Password</label>
        <input type="password" id="confirm-password" oninput="this.setCustomValidity('')" />
      </div>
    </div>

    <!-- Advanced options (JavaScript-activated dropdown) -->
    <details>
      <summary id="advanced-label">lanjutan</summary>
      <div class="advanced" id="advanced">
        <div class="labeled-input">
          <label for="iv">vektor inisialisasi acak</label>
          <input type="checkbox" id="iv" onclick="onIvCheck(this)" checked />
        </div>
        <div class="labeled-input">
          <label for="salt">acak</label>
          <input type="checkbox" id="salt" checked />
        </div>
      </div>
    </details>
    <button id="encrypt" onclick="onEncrypt()">Enkripsi Sekarang</button>
  </div>

  <hr />

  <!-- Output area -->
  <div class="output">
    <label for="output">output</label>
    <input type="text" id="output" readonly/>
    <button id="copy" onclick="onCopy('output')">Copy</button>
    <!--<a href="../hidden" id="bookmark" target="_blank"><button>Buat Bookmark tersembunyi</button></a>-->
    <a href="" id="open" target="_blank"><button>Open in New Tab</button></a>
    <!-- Special incantation to make TinyURL work -->
    <form action="https://tinyurl.com/create.php" method="get" target="_blank" style="display: inline;">
      <input type="hidden" id="source" name="source" value="indexpage" />
      <input type="hidden" id="tinyurl" name="url" value = "" />
      <button>Dapatkan Link Pendek</button>
    </form>
    <p class="alert">Tersalin</p>
  </div>

  <!-- Page footer -->
  <footer>
  <hr />
  <p class="copyright">Created by <a href="https://www.instagram.com/lightstar.jpg//">Follow bang</a>.</p>
  </footer>

</body>

</html>
